### Production secrets template for lmhg-backend
# DO NOT commit real secrets. This file is a template you can copy to `.env`
# and fill with real values on the production host or in your secret manager.

# Database (Postgres)
# Example: postgresql+psycopg2://<user>:<pass>@<host>:5432/<db>
DATABASE_URL=postgresql+psycopg2://lmhg:AiIu84N9vLo3g-Q9@db:5432/lmhg_prod

# Application secret key (used for signing session cookies / tokens)
# Generate: python -c "import secrets; print(secrets.token_urlsafe(48))"
SECRET_KEY=VptAAJjXvKjnVY1louct66X8v6NtI97QwXPJTreRxzf2Qr8SYslfzsSsY-mQyKw5

# Hydra (OAuth2 / OIDC) configuration
# SYSTEM_SECRET (Hydra v2 legacy var) and SECRETS_SYSTEM (Hydra v2 key ring)
# Must be kept stable across restarts. Generate with: openssl rand -hex 32
HYDRA_SYSTEM_SECRET=b49421405eeceecf89b358668df6d40e3883b2f3f28f1d5a9c51e4124cf56cb6
SECRETS_SYSTEM=333f636960da22339f4fc587b601c0ac8ab67118cb77163ef4db2368b07742e0

# Hydra admin/public URLs (how other services reach Hydra)
HYDRA_ADMIN_URL=https://hydra.lmhg.app:4444
HYDRA_PUBLIC_URL=https://hydra.lmhg.app:4445

# Default OAuth client secret for automated registration (example only)
HYDRA_CLIENT_ID=lmhg-backend
HYDRA_CLIENT_SECRET=ET6n858DgcblAdDKB_P702sl4WKnzLJ9

# Kratos (identity) DSN (if using Kratos)
KRATOS_DSN=postgres://lmhg:AiIu84N9vLo3g-Q9@db:5432/lmhg_prod?sslmode=disable

# Email / SMTP for notifications (SES or SMTP relay)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=replace@example.com
SMTP_PASS=ehzM0XLIp336rlmZLQueNQ
SMTP_FROM="LMHG <no-reply@lmhg.app>"

# S3-compatible object storage (non-PHI assets)
S3_ENDPOINT=https://s3.example.com
S3_REGION=us-east-1
S3_ACCESS_KEY=hnwP1kDdF7ut7gGZ
S3_SECRET_KEY=sxVMNVARBbD5fr92Vf-n9Sw0yBFfkQTm
S3_BUCKET=lmhg-assets

# Redis URL for sessions / background
REDIS_URL=redis://redis:6379/0

# Optional: monitoring / sentry
SENTRY_DSN=

# TLS cert paths (if using local files mounted into containers)
# Example: /etc/ssl/private/lmhg.key and /etc/ssl/certs/lmhg.pem
TLS_CERT_PATH=/etc/nginx/certs/lmhg.crt
TLS_KEY_PATH=/etc/nginx/certs/lmhg.key

# Operational notes (do not store production secrets in git):
# - Use a secret manager (Vault/KMS/Parameter Store) and inject secrets at runtime.
# - If you must use files, keep them outside the repo and restrict filesystem permissions.
# - Rotate HYDRA/SECRETS_SYSTEM carefully: rotating system secrets invalidates keys and tokens.
# - Back up DB credentials and encryption keys to an offline, encrypted safe.
